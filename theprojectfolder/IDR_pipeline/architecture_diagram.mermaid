flowchart TB
    subgraph "User Interface"
        A[User Browser]
    end
    
    subgraph "Frontend Layer - AWS S3"
        B[Static Website<br/>HTML/CSS/JS]
    end
    
    subgraph "API Layer - AWS API Gateway"
        C[REST API<br/>/upload endpoint]
        D[REST API<br/>/results endpoint]
    end
    
    subgraph "Storage Layer - AWS S3"
        E[(S3 Uploads Bucket<br/>Raw Documents)]
        F[(S3 Processed Bucket<br/>JSON Results)]
    end
    
    subgraph "Processing Layer - AWS Lambda"
        G[Lambda: Upload Handler<br/>Receives files via API]
        H[Lambda: Document Processor<br/>Main processing logic]
        I[Lambda: Results Handler<br/>Retrieves processed data]
    end
    
    subgraph "AI/ML Services"
        J[AWS Textract<br/>OCR & Form Extraction<br/>Tables, Key-Value Pairs]
        K[AWS Comprehend<br/>NLP Analysis<br/>Entities, Sentiment, Key Phrases]
    end
    
    subgraph "Monitoring - AWS CloudWatch"
        L[CloudWatch Logs<br/>Application logs]
        M[CloudWatch Metrics<br/>Performance data]
    end
    
    %% User Flow
    A -->|1. Access website| B
    A -->|2. Upload document| C
    C -->|3. POST request| G
    G -->|4. Store file| E
    
    %% Processing Flow
    E -->|5. S3 Event Trigger| H
    H -->|6. Get document| E
    H -->|7. Extract text/forms| J
    H -->|8. Analyze text| K
    J -->|9. Return extracted data| H
    K -->|10. Return analysis| H
    H -->|11. Store results| F
    
    %% Results Retrieval
    A -->|12. Request results| D
    D -->|13. GET request| I
    I -->|14. Fetch results| F
    F -->|15. Return JSON| I
    I -->|16. Response| D
    D -->|17. Display results| A
    
    %% Monitoring
    H -.->|Log events| L
    G -.->|Log events| L
    I -.->|Log events| L
    H -.->|Metrics| M
    
    %% Styling
    classDef userClass fill:#e1f5ff,stroke:#01579b,stroke-width:2px
    classDef frontendClass fill:#fff9c4,stroke:#f57f17,stroke-width:2px
    classDef apiClass fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef storageClass fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px
    classDef computeClass fill:#ffe0b2,stroke:#e65100,stroke-width:2px
    classDef aiClass fill:#fce4ec,stroke:#880e4f,stroke-width:2px
    classDef monitorClass fill:#e0e0e0,stroke:#424242,stroke-width:2px
    
    class A userClass
    class B frontendClass
    class C,D apiClass
    class E,F storageClass
    class G,H,I computeClass
    class J,K aiClass
    class L,M monitorClass
